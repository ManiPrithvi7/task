╔════════════════════════════════════════════════════════════════╗
║                                                                ║
║   🚀 MQTT PUBLISHER LITE - RENDER.COM QUICKSTART              ║
║                                                                ║
╚════════════════════════════════════════════════════════════════╝

✅ STATUS: Ready for Deployment!

┌────────────────────────────────────────────────────────────────┐
│  STEP 1: PUSH TO GITHUB (2 minutes)                           │
└────────────────────────────────────────────────────────────────┘

cd /home/muthuselvan/Desktop/statsMqtt
git add services/mqtt-publisher-lite/
git commit -m "Add Render.com deployment config"
git push origin main

┌────────────────────────────────────────────────────────────────┐
│  STEP 2: DEPLOY ON RENDER (5 minutes)                         │
└────────────────────────────────────────────────────────────────┘

1. Go to: https://render.com
2. Sign up with GitHub
3. New Web Service → Connect repo: statsMqtt
4. Configure:
   - Root Directory: services/mqtt-publisher-lite
   - Build: npm install && npm run build
   - Start: npm start
   - Plan: Free
5. Click "Create Web Service"

┌────────────────────────────────────────────────────────────────┐
│  STEP 3: GET YOUR URL (1 minute)                              │
└────────────────────────────────────────────────────────────────┘

Your URL: https://mqtt-publisher-lite-xxxx.onrender.com

Test it:
curl https://your-app.onrender.com/health

┌────────────────────────────────────────────────────────────────┐
│  STEP 4: KEEP-ALIVE (5 minutes)                               │
└────────────────────────────────────────────────────────────────┘

1. Go to: https://uptimerobot.com
2. Sign up (free)
3. Add monitor:
   - Type: HTTP(s)
   - URL: https://your-app.onrender.com/health
   - Interval: 5 minutes
4. Done! Service stays awake 24/7

┌────────────────────────────────────────────────────────────────┐
│  ✅ COMPLETE!                                                  │
└────────────────────────────────────────────────────────────────┘

Your firmware testing platform is live!

Total Time: ~15 minutes
Monthly Cost: $0 (free tier)
Availability: 24/7

┌────────────────────────────────────────────────────────────────┐
│  📚 DOCUMENTATION                                              │
└────────────────────────────────────────────────────────────────┘

Full Guide: RENDER-DEPLOYMENT.md
Checklist: DEPLOYMENT-CHECKLIST.md
Quick Ref: RENDER-QUICK-REFERENCE.md
Overview: RENDER-READY.md

┌────────────────────────────────────────────────────────────────┐
│  🧪 TEST YOUR DEPLOYMENT                                       │
└────────────────────────────────────────────────────────────────┘

# Health check
curl https://your-app.onrender.com/health | jq

# List devices
curl https://your-app.onrender.com/api/devices | jq

# Test with firmware
cd ../mqtt-test-client
npm start

┌────────────────────────────────────────────────────────────────┐
│  ⚡ KEY FEATURES                                                │
└────────────────────────────────────────────────────────────────┘

✅ MQTT client (broker.emqx.io)
✅ HTTP API (REST endpoints)
✅ WebSocket (real-time)
✅ Device registration (auto)
✅ Stats publishing (15s)
✅ QoS 1 tracking (PUBACK)
✅ Keep-alive (built-in)
✅ Health checks (/health)

┌────────────────────────────────────────────────────────────────┐
│  💡 WHAT'S BEEN CONFIGURED                                     │
└────────────────────────────────────────────────────────────────┘

✅ render.yaml - Service configuration
✅ .renderignore - Build optimization
✅ package.json - Node 18.x engine
✅ src/config/index.ts - PORT env var
✅ src/app.ts - Keep-alive timer (14 min)

┌────────────────────────────────────────────────────────────────┐
│  🎯 FREE TIER SPECS                                            │
└────────────────────────────────────────────────────────────────┘

Memory: 512 MB (using ~50 MB)
Hours: 750/month (using ~720)
Bandwidth: 100 GB/month (using <1 GB)
TLS: Included
Spin-down: Prevented by keep-alive

┌────────────────────────────────────────────────────────────────┐
│  🐛 TROUBLESHOOTING                                            │
└────────────────────────────────────────────────────────────────┘

Build Failed?
→ Check Render logs → Fix locally → Push again

MQTT Not Connecting?
→ Verify MQTT_BROKER=broker.emqx.io in env vars

Service Spinning Down?
→ Add UptimeRobot monitor (5 min ping)

Devices Not Registering?
→ Topic must be: statsnapp/{deviceId}/active

┌────────────────────────────────────────────────────────────────┐
│  📞 SUPPORT                                                     │
└────────────────────────────────────────────────────────────────┘

Render Docs: https://render.com/docs
Render Dashboard: https://dashboard.render.com
UptimeRobot: https://uptimerobot.com

╔════════════════════════════════════════════════════════════════╗
║                                                                ║
║   🎉 Ready to Deploy!                                         ║
║                                                                ║
║   Push → Deploy → Test → Done!                               ║
║                                                                ║
╚════════════════════════════════════════════════════════════════╝
